# ServerNews æ’ä»¶æ–‡æ¡£

**å…¶ä»–è¯­è¨€ç‰ˆæœ¬: [English](README.md)ï¼Œ[ä¸­æ–‡](README_zh.md)ã€‚**

## æ’ä»¶ä»‹ç»
ä¸€ä¸ªä¸º Minecraft æœåŠ¡å™¨è®¾è®¡çš„æ–°é—»å…¬å‘Šç³»ç»Ÿæ’ä»¶ï¼Œå®ƒå…è®¸ç®¡ç†å‘˜å‘å¸ƒå’Œç®¡ç†æœåŠ¡å™¨æ–°é—»ï¼Œå¹¶ä»¥ç²¾ç¾çš„ä¹¦ç±å½¢å¼å±•ç¤ºç»™ç©å®¶ã€‚

æ’ä»¶æ”¯æŒå¤šè¯­è¨€ï¼ˆæ ¹æ®å®¢æˆ·ç«¯è¯­è¨€è‡ªåŠ¨åˆ‡æ¢ï¼‰ã€äº¤äº’å¼å†…å®¹å’Œè‡ªåŠ¨é€šçŸ¥åŠŸèƒ½

æ”¯æŒFolia, Paper, Bukkit, Purpur, Spigotç­‰å¤šä¸ªæ ¸å¿ƒ

## åŠŸèƒ½ç‰¹æ€§
- ğŸ“– ä»¥ä¹¦ç±å½¢å¼å±•ç¤ºæ–°é—»å†…å®¹
- ğŸ”” ç©å®¶ç™»å½•æ—¶è‡ªåŠ¨é€šçŸ¥æœªè¯»æ–°é—»
- ğŸŒ æ’ä»¶é»˜è®¤æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡ï¼Œå¯ä»¥åœ¨ `messages.yml` ä¸­æ·»åŠ æ›´å¤šè¯­è¨€æ”¯æŒ
- ğŸ”— æ”¯æŒURLé“¾æ¥å’Œå‘½ä»¤äº¤äº’
- ğŸ“Š æ–°é—»ç»Ÿè®¡åŠŸèƒ½
- ğŸ“… è‡ªåŠ¨æ¸…ç†è¿‡æœŸé˜…è¯»è®°å½•
- ğŸ¨ æ”¯æŒé¢œè‰²ä»£ç å’Œåå…­è¿›åˆ¶é¢œè‰²
- ğŸ“± å…¼å®¹ PlaceholderAPI å ä½ç¬¦

> **æ³¨æ„**ï¼šå¦‚éœ€ä½¿ç”¨ PlaceholderAPI åŠŸèƒ½ï¼Œè¯·ç¡®ä¿å·²å®‰è£… PlaceholderAPI æ’ä»¶

## ä½¿ç”¨æ–¹æ³•

### ç©å®¶å‘½ä»¤
| å‘½ä»¤ | æè¿° | æƒé™ | é»˜è®¤ |
|------|------|------|------|
| `/news` | æ‰“å¼€æ–°é—»ä¹¦ç± | `servernews.use` | âœ… æ‰€æœ‰ç©å®¶å¯ç”¨ |

### ç®¡ç†å‘˜å‘½ä»¤
| å‘½ä»¤ | æè¿° | ç¤ºä¾‹ | æƒé™ |
|------|------|------|------|
| `/newsadmin` | æ˜¾ç¤ºç®¡ç†å‘˜å¸®åŠ©èœå• | `/newsadmin` | `servernews.admin` |
| `/newsadmin help` | æ˜¾ç¤ºè¯¦ç»†å¸®åŠ©ä¿¡æ¯ | `/newsadmin help` | `servernews.admin` |
| `/newsadmin reload` | é‡è½½é…ç½®æ–‡ä»¶ | `/newsadmin reload` | `servernews.admin` |
| `/newsadmin add <æ ‡é¢˜> <å†…å®¹> [é€‰é¡¹]` | æ·»åŠ æ–°é—»ï¼ˆæ”¯æŒå¤šç§åŠŸèƒ½ï¼‰ | è§ä¸‹æ–¹ç¤ºä¾‹ | `servernews.admin` |
| `/newsadmin remove <åºå·>` | åˆ é™¤æŒ‡å®šåºå·çš„æ–°é—» | `/newsadmin remove 0` | `servernews.admin` |
| `/newsadmin list` | åˆ—å‡ºæ‰€æœ‰æ–°é—»è¯¦æƒ… | `/newsadmin list` | `servernews.admin` |
| `/newsadmin stats` | æ˜¾ç¤ºè¯¦ç»†æ–°é—»ç»Ÿè®¡ | `/newsadmin stats` | `servernews.admin` |

### é«˜çº§æ·»åŠ å‘½ä»¤é€‰é¡¹
`add` å‘½ä»¤æ”¯æŒå¤šä¸ªå¯é€‰å‚æ•°æ¥å¢å¼ºæ–°é—»åŠŸèƒ½ï¼š

#### åŸºç¡€ç”¨æ³•ï¼š
```
/newsadmin add "æ–°é—»æ ‡é¢˜" "æ–°é—»å†…å®¹"
```

#### æ·»åŠ URLé“¾æ¥ï¼š
```
/newsadmin add "æ›´æ–°é€šçŸ¥" "ç‚¹å‡»æŸ¥çœ‹å®˜ç½‘è¯¦æƒ…" -url https://example.com
```

#### æ·»åŠ å‘½ä»¤æ‰§è¡Œï¼š
```
/newsadmin add "æœåŠ¡å™¨æ´»åŠ¨" "ç‚¹å‡»ä¼ é€åˆ°æ´»åŠ¨åœ°ç‚¹ï¼" -cmd /warp event
```

#### æ·»åŠ æ‚¬åœæç¤ºï¼š
```
/newsadmin add "é‡è¦é€šçŸ¥" "æœåŠ¡å™¨ç»´æŠ¤è®¡åˆ’" -hover "æ‚¬åœæŸ¥çœ‹æ›´å¤šä¿¡æ¯"
```

#### ç»„åˆåŠŸèƒ½ï¼š
```
/newsadmin add "æ–°åŠŸèƒ½å‘å¸ƒ" "å¤šç§äº¤äº’å…ƒç´ å±•ç¤º" -url https://example.com -cmd /help -hover "ç‚¹å‡»è®¿é—®ç½‘ç«™æˆ–æ‚¬åœæŸ¥çœ‹å‘½ä»¤"
```

#### é€‰é¡¹è¯¦è§£ï¼š
- **`-url <é“¾æ¥>`**: æ·»åŠ å¯ç‚¹å‡»çš„URLé“¾æ¥ï¼ˆå¿…é¡»ä»¥ http:// æˆ– https:// å¼€å¤´ï¼‰
- **`-cmd <å‘½ä»¤>`**: æ·»åŠ å¯ç‚¹å‡»çš„å‘½ä»¤ï¼ˆå¿…é¡»ä»¥ / å¼€å¤´ï¼‰
- **`-hover <æ–‡æœ¬>`**: æ·»åŠ æ‚¬åœæç¤ºæ–‡æœ¬ï¼ˆå¯åŒ…å«ç©ºæ ¼å’Œé¢œè‰²ä»£ç ï¼‰

> **ä½¿ç”¨æŠ€å·§**:
> - é€‰é¡¹å¯ä»¥æŒ‰ä»»æ„é¡ºåºä½¿ç”¨
> - URLå’Œå‘½ä»¤ä¸èƒ½åŒæ—¶ä½¿ç”¨ï¼ˆå‘½ä»¤ä¼˜å…ˆï¼‰
> - åŒ…å«ç©ºæ ¼çš„æ–‡æœ¬éœ€è¦ç”¨å¼•å·åŒ…å›´
> - ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ `news.yml` ä¸­ç¼–è¾‘ï¼Œå®Œæˆåä½¿ç”¨ `/newsadmin reload` é‡è½½

### æƒé™åˆ—è¡¨

| æƒé™èŠ‚ç‚¹ | æè¿° | é»˜è®¤å€¼ | è¯´æ˜ |
|----------|------|--------|------|
| `servernews.use` | å…è®¸ä½¿ç”¨`/news`å‘½ä»¤ | `true` | æ‰€æœ‰ç©å®¶éƒ½å¯æŸ¥çœ‹æ–°é—» |
| `servernews.admin` | å…è®¸ä½¿ç”¨æ–°é—»ç®¡ç†å‘½ä»¤ | `op` | å®Œæ•´çš„ç®¡ç†æ§åˆ¶æƒé™ |
| `servernews.*` | åŒ…å«æ‰€æœ‰æ–°é—»ç›¸å…³æƒé™ | `op` | åŒ…å«æ‰€æœ‰æƒé™ |

## é…ç½®æ–‡ä»¶

### config.yml
```yaml
# æœ€å¤§ä¿å­˜çš„æ–°é—»æ•°é‡
max-news: 10

# è‡ªåŠ¨é€šçŸ¥è®¾ç½®
auto-notification:
  # ç©å®¶åŠ å…¥åå»¶è¿Ÿæ—¶é—´ (tickï¼Œ20 tick = 1ç§’)
  delay-ticks: 60
```

### `news.yml`
å­˜å‚¨æ‰€æœ‰æ–°é—»å†…å®¹ï¼Œæ ¼å¼ä¸ºï¼š

```yaml
news:
  - title: "æ–°é—»æ ‡é¢˜"
    content: "æ–°é—»å†…å®¹ï¼ˆæ”¯æŒé¢œè‰²ä»£ç å’Œå ä½ç¬¦ï¼‰"
    date: "2024-01-15 14:30"
    url: "https://example.com" # å¯é€‰ï¼šå¯ç‚¹å‡»çš„URL
    command: "/spawn" # å¯é€‰ï¼šå¯ç‚¹å‡»çš„å‘½ä»¤
    hover: "æ‚¬åœæ–‡æœ¬ &aæ”¯æŒé¢œè‰²" # å¯é€‰ï¼šæ‚¬åœæç¤º
  - title: "å¦ä¸€æ¡æ–°é—»"
    content: "æ›´å¤šæ–°é—»å†…å®¹"
    date: "2024-01-14 12:00"
    # å¯é€‰å­—æ®µå¯ä»¥çœç•¥
```

### `messages.yml`
åŒ…å«ä¸åŒè¯­è¨€çš„æ‰€æœ‰å¯ç¿»è¯‘æ¶ˆæ¯ã€‚æ’ä»¶ä¼šè‡ªåŠ¨æ£€æµ‹ç©å®¶è¯­è¨€å¹¶ä½¿ç”¨ç›¸åº”æ¶ˆæ¯ã€‚

## å‘½ä»¤ç¤ºä¾‹

### æ·»åŠ å½©è‰²æ–°é—»
```bash
# åŸºç¡€å½©è‰²æ–°é—»
/newsadmin add "&6&læœåŠ¡å™¨æ›´æ–°" "&aæ–°åŠŸèƒ½å·²ä¸Šçº¿ï¼&bå¿«æ¥ä½“éªŒå§ã€‚"

# ä½¿ç”¨HEXé¢œè‰²
/newsadmin add "&#FF0000é‡è¦é€šçŸ¥" "&#00FF00ä¸€åˆ‡è¿è¡Œæ­£å¸¸ï¼"

# ä½¿ç”¨PlaceholderAPI
/newsadmin add "æ¬¢è¿ %player_name%" "æ‚¨å·²æ¸¸æˆ %player_time% å°æ—¶"
```

### ç®¡ç†ç¤ºä¾‹
```bash
# åˆ—å‡ºæ‰€æœ‰å½“å‰æ–°é—»
/newsadmin list

# åˆ é™¤ç¬¬ä¸€æ¡æ–°é—»ï¼ˆç´¢å¼•0ï¼‰
/newsadmin remove 0

# æŸ¥çœ‹è¯¦ç»†ç»Ÿè®¡
/newsadmin stats

# æ‰‹åŠ¨ç¼–è¾‘åé‡è½½
/newsadmin reload
```

## å¸¸è§é—®é¢˜è§£ç­”

### Q: å¦‚ä½•æ·»åŠ å¸¦é¢œè‰²çš„æ–°é—»ï¼Ÿ
**A:**  
ä½¿ç”¨ `&` ç¬¦å·åŠ ä¸Šé¢œè‰²ä»£ç æˆ–åå…­è¿›åˆ¶é¢œè‰²ï¼š
- `&a` ç»¿è‰²æ–‡å­—
- `&#FF0000` çº¢è‰²æ–‡å­—ï¼ˆåå…­è¿›åˆ¶é¢œè‰²ä»£ç ï¼‰
- `&l` ç²—ä½“ï¼Œ`&o` æ–œä½“ï¼Œ`&n` ä¸‹åˆ’çº¿

### Q: ä¸ºä»€ä¹ˆæ–°é—»ä¹¦ç±æ‰“ä¸å¼€ï¼Ÿ
**A:**  
è¯·æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. ç©å®¶æ˜¯å¦æ‹¥æœ‰ `servernews.use` æƒé™
2. æœåŠ¡å™¨æ§åˆ¶å°æ˜¯å¦æœ‰ç›¸å…³é”™è¯¯æ—¥å¿—
3. `news.yml` ä¸­çš„æ–°é—»æ•°æ®æ ¼å¼æ˜¯å¦æ­£ç¡®
4. æ’ä»¶æ˜¯å¦æ­£ç¡®åŠ è½½å’Œå¯ç”¨

### Q: å¦‚ä½•å¢åŠ æ–°é—»æ•°é‡é™åˆ¶ï¼Ÿ
**A:**  
ä¿®æ”¹é…ç½®æ–‡ä»¶ `config.yml` ä¸­çš„ `max-news` å‚æ•°å€¼å¹¶é‡è½½æ’ä»¶ã€‚

### Q: å¯ä»¥ä½¿ç”¨PlaceholderAPIå ä½ç¬¦å—ï¼Ÿ
**A:**  
å¯ä»¥ï¼å®‰è£…PlaceholderAPIåï¼Œå¯åœ¨æ–°é—»æ ‡é¢˜ã€å†…å®¹å’Œæ‚¬åœæ–‡æœ¬ä¸­ä½¿ç”¨ä»»ä½•å ä½ç¬¦ã€‚ä¾‹å¦‚ï¼š
- `%player_name%` - ç©å®¶å§“å
- `%server_name%` - æœåŠ¡å™¨åç§°
- `%player_time%` - æ¸¸æˆæ—¶é•¿

### Q: è‡ªåŠ¨é€šçŸ¥åŠŸèƒ½æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ
**A:**  
æ’ä»¶ä¼šè·Ÿè¸ªæ¯ä¸ªç©å®¶ä¸Šæ¬¡æŸ¥çœ‹æ–°é—»çš„æ—¶é—´ã€‚å½“ä»–ä»¬åŠ å…¥æœåŠ¡å™¨æ—¶ï¼Œå¦‚æœæœ‰æ›´æ–°çš„æ–°é—»ï¼Œå°†åœ¨é…ç½®çš„å»¶è¿Ÿæ—¶é—´åæ”¶åˆ°å¯ç‚¹å‡»çš„é€šçŸ¥ã€‚

---

### bStats
![bStats](https://bstats.org/signatures/bukkit/ServerNews.svg)